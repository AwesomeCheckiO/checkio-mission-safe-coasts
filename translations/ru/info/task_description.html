<div class="story">
    <div style="text-align: center">
        <img src="{{MEDIA}}ship2.png" title="ship" width="740px">
    </div>
    <p style="margin-left: 220px;">
        …Но в мире есть иные области,<br>
Луной мучительной томимы.<br>
Для высшей силы, высшей доблести<br>
Они навек недостижимы.<br>
 <br>
Там волны с блесками и всплесками<br>
Непрекращаемого танца,<br>
И там летит скачками резкими<br>
Корабль Летучего Голландца.<br>

-- Лев Гумилев, из цикла «Капитаны»
    </p>
</div>


<p>
    Итак, мы научились <a href="http://www.checkio.org/mission/ghost-detect/share/27bd9449c1c12806c6c78dc507b52bcc/">
    как избежать Корабль-Призрак</a>
    и это помогло узнать что это был легендарный

    <a href="https://ru.wikipedia.org/wiki/%D0%9B%D0%B5%D1%82%D1%83%D1%87%D0%B8%D0%B9_%D0%B3%D0%BE%D0%BB%D0%BB%D0%B0%D0%BD%D0%B4%D0%B5%D1%86">
        "Летучий Голландец"</a>.
    Эта информация дает нам преимущество, так как нам известно, что он не может зайти в порт и причалить к берегу.
    Таким образом, зная карту местности и вероятные места появления Летучего Голландца, мы можем составить
    детальную карту местности с отмеченными безопасными местами.
</p>

<p>
    Дана карта местности, как массив строк, который может быть представлен, двумерный массив.
    Свободные клетки (вода) помечены
    <strong>"."</strong> и суша, как <strong>"X"</strong>.
    Клетки, где может появится Корабль-Призрак отмечены
    <strong>"D"</strong>.
    Вам необходимо завершить карту и пометить (заменить свободные клетки) все безопасные клетки символом
    <strong>"S"</strong> и опасные, как <strong>"D"</strong> (клетки, где Летучий Голландец может оказаться).
</p>
<p>
    Корабль-Призрак может перемещаться между соседними клетками:
    верх, вниз, влево и вправо.
    Он не может переместится на клетку возле суши, включая соседствующие по диагоналям.
    Таким образом безопасные клетки - это куда Летучий Голландец не сможет попасть из всех возможных точек появления.
</p>

<p style="text-align: center;">
    <img title="safe-coast" src="{{MEDIA}}safe-coasts.svg" alt="safe-coast"
         style="max-width: 600px"/>
</p>

<p>
<pre style="text-align: center">
("D..XX.....",        ("DDSXXSDDDD",
 "...X......",         "DDSXSSSSSD",
 ".......X..",         "DDSSSSSXSD",
 ".......X..",         "DDSSSSSXSD",
 "...X...X..",  ===\   "DDSXSSSXSD",
 "...XXXXX..",  ===/   "SSSXXXXXSD",
 "X.........",         "XSSSSSSSSD",
 "..X.......",         "SSXSDDDDDD",
 "..........",         "DSSSSSDDDD",
 "D...X....D")         "DDDSXSDDDD")

    </pre>
</p>

<p>
    <strong>Входные данные: </strong> Карта местности, как кортеж (tuple) строк (str).
</p>

<p>
    <strong>Выходные данные: </strong> Законченная карта, как список (list) или кортеж строк.
</p>


<div class="for_info_only">
    <p>
        <strong>Примеры:</strong>
    </p>
    <pre class="brush: python">
finish_map(("D..XX.....",
            "...X......",
            ".......X..",
            ".......X..",
            "...X...X..",
            "...XXXXX..",
            "X.........",
            "..X.......",
            "..........",
            "D...X....D"))) == ["DDSXXSDDDD",
                                "DDSXSSSSSD",
                                "DDSSSSSXSD",
                                "DDSSSSSXSD",
                                "DDSXSSSXSD",
                                "SSSXXXXXSD",
                                "XSSSSSSSSD",
                                "SSXSDDDDDD",
                                "DSSSSSDDDD",
                                "DDDSXSDDDD"]  # or tuple
    </pre>
</div>

<p class="for_info_only">
    <strong>Как это используется: </strong>
    Эта концепция может быть использована для моделирования размещения защитных сооружений в стратегических играх.
    Или смоделировать, как разместить репелленты для насекомых, например.
</p>

<p>
    <strong>Предусловия:</strong><br>
    3 &le; len(regional_map) &le; 10<br>
    all(3 &le; len(row) &le; 10 and len(row) == len(regional_map[0]) for row in
    regional_map)<br>
    any("D" in row for row in regional_map)<br>
</p>
